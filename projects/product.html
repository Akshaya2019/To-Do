<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-commerce Home</title>
  <link rel="stylesheet" href="product.css" />
</head>
<body>
  <header>
    <h1>My E-commerce Store</h1>
    <nav>
      <a href="cart.html">Cart</a>
    </nav>
  </header>
  <main>
    <div class="products">
      <!-- Product 1 -->
      <div class="product">
        <img src="https://via.placeholder.com/150" alt="Product 1" />
        <h3>Product 1</h3>
        <p>Price: $10</p>
        <button onclick="addToCart(1, 'Product 1', 10)">Add to Cart</button>
      </div>
      <!-- Product 2 -->
      <div class="product">
        <img src="https://via.placeholder.com/150" alt="Product 2" />
        <h3>Product 2</h3>
        <p>Price: $20</p>
        <button onclick="addToCart(2, 'Product 2', 20)">Add to Cart</button>
      </div>
      <!-- Product 3 -->
      <div class="product">
        <img src="https://via.placeholder.com/150" alt="Product 3" />
        <h3>Product 3</h3>
        <p>Price: $15</p>
        <button onclick="addToCart(3, 'Product 3', 15)">Add to Cart</button>
      </div>
    </div>
  </main>

  <script>
    // Get the cart from localStorage or return an empty array if not found
    function getCart() {
      return JSON.parse(localStorage.getItem('cart')) || [];
    }

    // Save the updated cart back to localStorage
    function setCart(cart) {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Add a product to the cart or update its quantity if it already exists
    function addToCart(id, name, price) {
      let cart = getCart();
      const existingProduct = cart.find(item => item.id === id);

      if (existingProduct) {
        existingProduct.quantity += 1;
      } else {
        cart.push({ id, name, price, quantity: 1 });
      }

      setCart(cart);
      alert(name + ' has been added to your cart.');
    }
  </script>
</body>
</html>
